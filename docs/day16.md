# 열여섯째 날

https://adventofcode.com/2023/day/16

이번년도에는 파이프, 거울 이런 모티브가 많네요.

`/`, `\`, `-`, `|` 네 개의 거울로 이루어진 구조물이 있고, 빛이 어디어디를 통과했나 살펴봐야 합니다.

하나 트릭이 있는데,

```
/-\
\-/
```

와 같은 구조에서 가운데 거울에 수직으로 입사하면 루프를 돕니다.

따라서, 같은 위치에 같은 방향으로 쏘아진 빛을 걸러내는, 3차원 DFS로 풀어주면 됩니다.

## Part 1

초기 조건이 항상 (0,0), 오른쪽으로 쏘아진 빛입니다.

DFS로 풀면 하나의 빛이 구조물을 탈출하거나, 루프에 들어갈 때까지 탐색합니다.

## Part 2

초기 조건을 바꿔가며, 언제 구조물의 가장 많은 타일을 밝힐 수 있는지 찾아보면 됩니다.

입력값이 꽤 크긴 한데(~100x100), DFS 한번에 ~30ms라, 그래도 ~5s 안에는 돌아갑니다.

순간적으로 거울 간에 위상정렬까지 해야 하나 고민했는데 다행입니다.
