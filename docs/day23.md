# 스물셋째 날

https://adventofcode.com/2023/day/23
사실 처음에 문제보고, 뻔한 Dijkstra인 줄 알고 신났었습니다.

다시 보니 '최단거리'가 아니라 '최장거리'더라구요.

검색해보니 최단거리는 다항식 시간에 풀리는데, 최장거리 알고리즘은 NP 문제이네요.

암튼 검색은 좀 했지만 컨닝은 안 해서 뿌듯합니다.

## Part 1

https://stackoverflow.com/questions/2679081/how-do-find-the-longest-path-in-a-cyclic-graph-between-two-nodes

검색 결과, 백트래킹으로 풀 수 있다는 결론에 이르렀고, 백트래킹을 구현해서 금방 풀었습니다.

## Part 2

한 번 슥 돌려봤는데, 식사 준비하고 왔는데 30분 동안 안 풀렸더라구요. 포기했습니다.

test input과 실제 입력 보니까, 그래도 '광활한' 지도가 아니라, 삼거리들로 이루어진, 좁은 길들의 연속인 지도더라구요 (밑에 그림 참조)

```
######.#
######.#
.......#
######.#
```

요런 느낌..

그래서, '삼거리들'을 vertex로, 거기까지 가는, 선택지 없는 직선 도로들을 edge로 바꿔서 그래프를 압축했습니다.

그러고 나니까 원래는 백트래킹을 수백, 수천개의 노드에 대해 수행했어야 한다면, 압축한 그래프에서는 그래도 node 36개에 대해 수행하겠더라구요.

슥 돌려보니까 오래 걸리길래 좀 쫄아서 서칭하고 있었는데, 아무래도 될거 같아서 `--release` 태그 붙여서 돌려보니까 4초만에 돌아갔습니다.

휴 다행!
